<!--
Copyright [2016] [Kujtim Hoxha]

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<!--
 Sidenav component view.
 Contains the side navigation of the app.

 @author Kujtim Hoxha
 @email kujtimii.h@gmail.com
 @date 9/10/2016
-->
<header>
  <div class="navbar-fixed">
    <nav class="top-nav  blue ">
      <div class="container"><a materialize="sideNav" data-activates="slide-out"
                                class="button-collapse top-nav full hide-on-large-only"><i
        class="material-icons">menu</i></a>
        <bc-breadcrumb></bc-breadcrumb>
      </div>
    </nav>
  </div>
  <ul id="slide-out" class="side-nav fixed">
    <li>
      <div class="userView" style="padding: 0 !important;">
        <img class="background" src="assets/images/material_design-wallpaper-960x600.jpg">
        <img class="circle" *ngIf="!isDemoUser(user.username)" src="assets/images/icon-user-default.png"
             style="margin-left: 20px;margin-top: 20px">
        <img *ngIf="isDemoUser(user.username)" style="margin-left: 20px;margin-top: 20px"
             [src]="'assets/images/profiles/'+user.username+'.jpg'" alt=""
             class="circle">
        <a>
          <span *ngIf="user.role !== 3"class="white-text name">{{user.firstname}} {{user.lastname}}</span>
          <span *ngIf="user.role === 3"class="white-text name">{{user.clientname}}</span>
        </a>
        <ul materialize="collapsible" class="collapsible" data-collapsible="accordion">
          <li>
            <div class="collapsible-header"><span class="white-text email" style="padding-top: 15px;">{{user.email}}<i
              class="material-icons right">arrow_drop_down</i></span></div>
            <div class="collapsible-body">
              <ul>
                <li>
                  <a class="waves-effect waves-teal" (click)="logout()">Log out</a>
                </li>
                <li>
                  <div class="divider"></div>
                </li>
              </ul>
            </div>
          </li>
        </ul>

      </div>
    </li><!-- Dropdown Structure -->

    <li><a [routerLink]="['/']" [routerLinkActive]="['active']" class="waves-effect waves-teal"
           [routerLinkActiveOptions]="{exact:true}"><i class="material-icons">description</i>Feature Requests</a></li>
    <li><a [routerLink]="['/bc/clients']" *ngIf="user.role !== 3" [routerLinkActive]="['active']" class="waves-effect waves-teal"
           [routerLinkActiveOptions]="{exact:true}"><i class="material-icons">folder</i>Clients</a></li>
    <li><a [routerLink]="['/bc/product-areas']" [routerLinkActive]="['active']" class="waves-effect waves-teal"
           [routerLinkActiveOptions]="{exact:true}"><i class="material-icons">aspect_ratio</i>Product areas</a></li>
    <li><a [routerLink]="['/bc/users']" [routerLinkActive]="['active']" class="waves-effect waves-teal"
           [routerLinkActiveOptions]="{exact:true}" *ngIf="user.role === 1"><i class="material-icons">person</i>Users</a></li>
    <li>
      <div class="divider"></div>
    </li>
    <!--<li><a class="subheader">Subheader</a></li>-->
    <!--<li><a class="waves-effect" href="#!">Third Link With Waves</a></li>-->
  </ul>
</header>
